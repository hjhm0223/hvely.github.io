{"componentChunkName":"component---src-templates-single-post-js","path":"/posts/spring-integration-구조/","result":{"data":{"post":{"frontmatter":{"meta":{"title":"test meta title","description":"test meta description","noindex":null,"canonicalLink":null},"title":"Spring Integration 구조","template":"SinglePost","subtitle":null,"date":"September 15th, 2022","categories":[{"category":"Spring"}]},"html":"<p><img src=\"https://miro.medium.com/max/600/0*4ey919rCEKU867pM.png\" alt=\"Spring Integration\"></p>\n<h1>Spring Integration</h1>\n<p>Spring Integration 은 통합 인터페이스를 위한 프레임워크다. 스프링 기반 애플리케이션에서 경량 메시지를 사용 가능하게 하고 외부 시스템을 선언적 어댑터로 쉽게 통합할 수 있는 기능을 제공한다. 이런 어댑터들은 높은 수준의 추상화 레벨을 제공하기 때문에 어댑터들을 통해서 개발자들이 조금 더 비즈니스 로직에 집중할 수 있도록 도와준다.</p>\n<blockquote>\n<p>구현 방법: xml, java config, java dsl</p>\n</blockquote>\n<h2>Components</h2>\n<p>Spring Integration 은 하나 이상의 컴포넌트로 구성되며, 각각 컴포넌트들의 종류는 아래와 같다.</p>\n<ul>\n<li>Channel: 한 요소로부터 다른 요소로 메시지를 전달</li>\n<li>Filter: 조건에 맞는 메시지가 플로우를 통과하게 해줌</li>\n<li>Transformer: 메시지 값을 변경하거나 메시지 payload의 타입을 다른 타입으로 변환</li>\n<li>Router: 여러 채널 중 하나로 메시지를 전달하며 대개 메시지 헤더를 기반으로 함</li>\n<li>Splitter: 들어오는 메시지를 두 개 이상의 메시지로 분할하며, 분할된 각 메시지는 다른 채널로 전송</li>\n<li>Aggregator: 분배기와 상반된 것으로 별개의 채널로부터 전달되는 다수의 메시지를 하나의메시지로 결합함</li>\n<li>Service Activator: 메시지를 처리하도록 자바 메서드에 메시지를 넘겨준 후 메서드의 반환값을 출력 채널로 전송</li>\n<li>Channel Adapter: 외부 시스템에 채널을 연결함. 외부 시스템으로부터 입력을 받거나 쓸 수 있음</li>\n<li>Gateway: 인터페이스를 통해 통합플로우로 데이터를 전달</li>\n</ul>\n<h3>Message</h3>\n<p>  <img src=\"https://docs.spring.io/spring-integration/docs/current/reference/html/images/message.jpg\" alt=\"Message\"></p>\n<p>  Spring Integration에서 메시지는 메타데이터와 결합된 모든 Java 객체이며, payload와 헤더로 구성된다. payload는 모든 유형이 될 수 있으며 헤더에는 ID, 타임스탬프, correlation ID 및 반환 주소와 같은 일반적으로 필요한 정보가 들어 있다. 헤더는 연결된 전송 간에 값을 전달하는 데에도 사용되며, 임의의 키-값 쌍을 저장할 수도 있다.</p>\n<h3>Message Channel</h3>\n<p>  <img src=\"https://docs.spring.io/spring-integration/docs/current/reference/html/images/channel.jpg\" alt=\"Message Channel\"></p>\n<p>  메시지 채널은 파이프 및 필터 아키텍처에서 <code>파이프</code>를 나타낸다. Producer는 채널에 메시지를 보내고 Consumer는 채널에서 메시지를 받는다. 따라서 메시지 채널은 메시징 구성 요소를 분리하고 메시지 가로채기 및 모니터링을 위한 편리한 지점을 제공한다.</p>\n<h3>Message Endpoint</h3>\n<p>  메시지 Endpoint는 파이프 및 필터 아키텍처에서 <code>필터</code>를 나타낸다. Endpoint의 주요 역할은 애플리케이션 코드를 메시징 프레임워크에 분리된 방식으로 연결하는 것이다. 즉, 애플리케이션 코드는 이상적으로는 메시지나 메시지 채널을 인식하지 않아야 한다. MVC 패러다임에서 컨트롤러의 역할과 유사하다.</p>\n<h3>Message Router</h3>\n<p>  <img src=\"https://docs.spring.io/spring-integration/docs/current/reference/html/images/router.jpg\" alt=\"Message Router\">\n메시지 라우터는 메시지를 수신해야 하는 채널을 결정하는 역할을 한다. 일반적으로 결정은 메시지의 내용이나 메시지 헤더에서 사용할 수 있는 메타데이터를 기반으로 한다. 메시지 라우터는 응답 메시지를 보낼 수 있는 Service Activator 또는 다른 Endpoint에서 정적으로 구성된 출력 채널에 대한 동적 대안으로 종종 사용된다. 마찬가지로, 메시지 라우터는 앞에서 설명한 것처럼 여러 Subscriber가 사용하는 반응 메시지 필터에 대한 사전 대안을 제공한다.</p>\n<h3>Splitter</h3>\n<p>  Splitter는 입력 채널에서 메시지를 수락하고 해당 메시지를 여러 메시지로 분할하고 각 메시지를 출력 채널로 보내는 또 다른 유형의 메시지 Endpoint다. 일반적으로 \"복합\" payload 개체를 세분화된 payload를 포함하는 메시지 그룹으로 나누는 데 사용된다.</p>\n<h3>Aggregator</h3>\n<p>  기본적으로 Splitter의 미러 이미지인 Aggregator는 여러 메시지를 수신하여 단일 메시지로 결합하는 메시지 Endpoint 유형이다. 사실, Aggregator는 Splitter를 포함하는 파이프라인의 다운스트림 Consumer인 경우가 많다. 기술적으로 Aggregator는 상태(Aggregate 할 메시지)를 유지 관리하고, 전체 메시지 그룹을 사용할 수 있는 시기를 결정하고, 필요한 경우 시간을 초과해야 하기 때문에 Splitter보다 더 복잡하다. 또한 시간이 초과할 경우 Aggregator는 부분 결과를 보낼지, 폐기할지 또는 별도의 채널로 보낼지 알아야 한다. Spring Integration은 시간 초과 시 부분 결과를 보낼지 폐기할지에 대한 CorrelationStrategy, ReleaseStrategy와 구성 가능한 설정을 제공한다.</p>\n<h3>Service Activator</h3>\n<p>  <img src=\"https://docs.spring.io/spring-integration/docs/current/reference/html/images/handler-endpoint.jpg\" alt=\"Service Activator\">\nService Activator는 서비스 인스턴스를 메시징 시스템에 연결하기 위한 일반 Endpoint다. 입력 메시지 채널을 구성해야 하며, 호출할 서비스 메서드가 값을 반환할 수 있는 경우 출력 메시지 채널도 제공할 수 있다.\nService Activator는 일부 서비스 개체에 대한 작업을 호출하여 요청 메시지를 처리하고 요청 메시지의 페이로드를 추출하고 변환한다. 서비스 개체의 메서드가 값을 반환할 때마다 필요한 경우 해당 반환 값도 마찬가지로 응답 메시지로 변환된다. 해당 응답 메시지는 출력 채널로 전송된다. 출력 채널이 구성되지 않은 경우 사용 가능한 경우 메시지의 \"반환 주소\"에 지정된 채널로 응답이 전송된다.\n요청-응답 Service Activator Endpoint는 대상 개체의 메서드를 입력 및 출력 메시지 채널에 연결한다.</p>\n<h3>Channel Adapter</h3>\n<p>  <img src=\"\" alt=\"Channel Adapter\">\nChannel Adapter는 메시지 채널을 다른 시스템에 연결하는 Endpoint다. Channel Adapter는 인바운드 또는 아웃바운드일 수 있다. 일반적으로 채널 어댑터는 메시지와 다른 시스템(파일, HTTP 요청, JMS 메시지 등)에서 수신되거나 전송되는 개체 또는 리소스 간에 일부 매핑을 수행한다. 전송에 따라 채널 어댑터가 메시지 헤더 값을 채우거나 추출할 수도 있다. Spring Integration은 많은 Channel Adapter를 제공한다.</p>\n<h2>Refrences</h2>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/overview.html#spring-integration-introduction\">Spring Integration Docs</a></li>\n<li><a href=\"https://www.baeldung.com/spring-integration\">Spring Integration Introduction - Baeldung</a></li>\n</ul>","id":"f5d1f1a7-7c2c-5f6a-9046-a6fe333a0e41"},"allPosts":{"edges":[{"node":{"id":"f5d1f1a7-7c2c-5f6a-9046-a6fe333a0e41"},"next":{"fields":{"slug":"/posts/kafka/"},"frontmatter":{"title":"Kafka"}},"previous":null},{"node":{"id":"827bacda-b789-58c1-b114-dd1a84d2cf0b"},"next":{"fields":{"slug":"/posts/tdd-sample-project/"},"frontmatter":{"title":"TDD SAMPLE PROJECT"}},"previous":{"fields":{"slug":"/posts/spring-integration-구조/"},"frontmatter":{"title":"Spring Integration 구조"}}},{"node":{"id":"fe264f59-bd9f-53c6-97e3-5d09ab013a63"},"next":{"fields":{"slug":"/posts/e-tas-server-to-server-연동-batch/"},"frontmatter":{"title":"eTAS Server to Server 연동 Batch"}},"previous":{"fields":{"slug":"/posts/kafka/"},"frontmatter":{"title":"Kafka"}}},{"node":{"id":"24b2dd59-8191-53ef-a9a4-d121eb896a0e"},"next":{"fields":{"slug":"/posts/spring-batch/"},"frontmatter":{"title":"Spring Batch"}},"previous":{"fields":{"slug":"/posts/tdd-sample-project/"},"frontmatter":{"title":"TDD SAMPLE PROJECT"}}},{"node":{"id":"7b317632-317d-580c-bfa6-c53f96edeb52"},"next":{"fields":{"slug":"/posts/react-project-개발기/"},"frontmatter":{"title":"React Project 개발기"}},"previous":{"fields":{"slug":"/posts/e-tas-server-to-server-연동-batch/"},"frontmatter":{"title":"eTAS Server to Server 연동 Batch"}}},{"node":{"id":"e29c2d7f-1fd2-5913-a904-11996c231f54"},"next":{"fields":{"slug":"/posts/hadoop/"},"frontmatter":{"title":"Hadoop"}},"previous":{"fields":{"slug":"/posts/spring-batch/"},"frontmatter":{"title":"Spring Batch"}}},{"node":{"id":"7f695fca-e5ce-5c55-970b-e8855f99b61a"},"next":{"fields":{"slug":"/posts/java-script-1-개요/"},"frontmatter":{"title":"JavaScript (1) - 개요"}},"previous":{"fields":{"slug":"/posts/react-project-개발기/"},"frontmatter":{"title":"React Project 개발기"}}},{"node":{"id":"9f46ad6e-455d-53e9-8d4c-4794e5af39dd"},"next":{"fields":{"slug":"/posts/java-script-3-제어흐름과-에러처리-loop-함수-표현식과-연산자-숫자와-날짜-텍스트-서식-정규-표현식/"},"frontmatter":{"title":"JavaScript (3) - 제어흐름과 에러처리, Loop, 함수, 표현식과 연산자, 숫자와 날짜, 텍스트 서식, 정규 표현식"}},"previous":{"fields":{"slug":"/posts/hadoop/"},"frontmatter":{"title":"Hadoop"}}},{"node":{"id":"7470f1ce-f71d-5772-a8be-806ed3f7cc66"},"next":{"fields":{"slug":"/posts/java-script-2-문법과-자료형/"},"frontmatter":{"title":"JavaScript (2) - 문법과 자료형"}},"previous":{"fields":{"slug":"/posts/java-script-1-개요/"},"frontmatter":{"title":"JavaScript (1) - 개요"}}},{"node":{"id":"27ea8f29-94a3-5302-a637-efd0af842208"},"next":{"fields":{"slug":"/posts/java-script-4-loop와-반복-함수-표현식과-연산자-숫자와-날자-텍스트-서식-정규표현식/"},"frontmatter":{"title":"JavaScript (4) - Loop와 반복, 함수, 표현식과 연산자, 숫자와 날자, 텍스트 서식, 정규표현식"}},"previous":{"fields":{"slug":"/posts/java-script-3-제어흐름과-에러처리-loop-함수-표현식과-연산자-숫자와-날짜-텍스트-서식-정규-표현식/"},"frontmatter":{"title":"JavaScript (3) - 제어흐름과 에러처리, Loop, 함수, 표현식과 연산자, 숫자와 날짜, 텍스트 서식, 정규 표현식"}}},{"node":{"id":"c54308e0-d7a2-5d1c-b8ae-ecbfd04ed1ac"},"next":{"fields":{"slug":"/posts/java-script-5-collections/"},"frontmatter":{"title":"JavaScript (5) - Collections"}},"previous":{"fields":{"slug":"/posts/java-script-2-문법과-자료형/"},"frontmatter":{"title":"JavaScript (2) - 문법과 자료형"}}},{"node":{"id":"c8b65dec-7fef-5ef0-a515-27ae182dff3e"},"next":{"fields":{"slug":"/posts/java-script-6-objects/"},"frontmatter":{"title":"JavaScript (6) - Objects"}},"previous":{"fields":{"slug":"/posts/java-script-4-loop와-반복-함수-표현식과-연산자-숫자와-날자-텍스트-서식-정규표현식/"},"frontmatter":{"title":"JavaScript (4) - Loop와 반복, 함수, 표현식과 연산자, 숫자와 날자, 텍스트 서식, 정규표현식"}}},{"node":{"id":"6814abc2-41a1-520c-bd24-a8d2d02424fb"},"next":{"fields":{"slug":"/posts/java-script-7-반복기-및-생성기-메타-프로그래밍/"},"frontmatter":{"title":"JavaScript (7) - 반복기 및 생성기, 메타 프로그래밍"}},"previous":{"fields":{"slug":"/posts/java-script-5-collections/"},"frontmatter":{"title":"JavaScript (5) - Collections"}}},{"node":{"id":"2fa87adf-6f94-54db-a8e4-7ab4990ba5e6"},"next":{"fields":{"slug":"/posts/ci-cd/"},"frontmatter":{"title":"CI/CD"}},"previous":{"fields":{"slug":"/posts/java-script-6-objects/"},"frontmatter":{"title":"JavaScript (6) - Objects"}}},{"node":{"id":"2311c1d2-b785-582e-a9a9-d80750b5d505"},"next":{"fields":{"slug":"/posts/restful-api/"},"frontmatter":{"title":"Restful API"}},"previous":{"fields":{"slug":"/posts/java-script-7-반복기-및-생성기-메타-프로그래밍/"},"frontmatter":{"title":"JavaScript (7) - 반복기 및 생성기, 메타 프로그래밍"}}},{"node":{"id":"54319bda-39af-5fa4-9eee-7f84ee580c1a"},"next":{"fields":{"slug":"/posts/di와-자동-di/"},"frontmatter":{"title":"DI와 자동 DI"}},"previous":{"fields":{"slug":"/posts/ci-cd/"},"frontmatter":{"title":"CI/CD"}}},{"node":{"id":"443ae298-350d-531c-a42c-34e0acb0cdd8"},"next":{"fields":{"slug":"/posts/annotation/"},"frontmatter":{"title":"Annotation"}},"previous":{"fields":{"slug":"/posts/restful-api/"},"frontmatter":{"title":"Restful API"}}},{"node":{"id":"2e8c37a8-a44a-5356-b617-dc7b22034c2a"},"next":{"fields":{"slug":"/posts/spring-mvc-pattern/"},"frontmatter":{"title":"Spring MVC Pattern"}},"previous":{"fields":{"slug":"/posts/di와-자동-di/"},"frontmatter":{"title":"DI와 자동 DI"}}},{"node":{"id":"64980158-2ad8-5c44-91a8-a0185a6d4f6b"},"next":{"fields":{"slug":"/posts/orm과-jpa-2/"},"frontmatter":{"title":"ORM과 JPA (2)"}},"previous":{"fields":{"slug":"/posts/annotation/"},"frontmatter":{"title":"Annotation"}}},{"node":{"id":"5128821c-b701-5848-9979-bb91ec9c5836"},"next":{"fields":{"slug":"/posts/orm과-jpa-1/"},"frontmatter":{"title":"ORM과 JPA (1)"}},"previous":{"fields":{"slug":"/posts/spring-mvc-pattern/"},"frontmatter":{"title":"Spring MVC Pattern"}}},{"node":{"id":"d4549afd-0095-5810-b492-b843ca6e2f88"},"next":{"fields":{"slug":"/posts/apache-spark-2-rdd/"},"frontmatter":{"title":"Apache Spark (2) - RDD"}},"previous":{"fields":{"slug":"/posts/orm과-jpa-2/"},"frontmatter":{"title":"ORM과 JPA (2)"}}},{"node":{"id":"e46642ac-6d65-51b8-a535-21a9e3eabb56"},"next":{"fields":{"slug":"/posts/apache-spark-1-개요/"},"frontmatter":{"title":"Apache Spark (1) - 개요"}},"previous":{"fields":{"slug":"/posts/orm과-jpa-1/"},"frontmatter":{"title":"ORM과 JPA (1)"}}},{"node":{"id":"46426481-29ee-5d00-aa6c-cf05d52490f6"},"next":{"fields":{"slug":"/posts/동시성-처리/"},"frontmatter":{"title":"동시성 처리"}},"previous":{"fields":{"slug":"/posts/apache-spark-2-rdd/"},"frontmatter":{"title":"Apache Spark (2) - RDD"}}},{"node":{"id":"6eed9dfa-e294-5b19-a225-cd43d6cb982a"},"next":{"fields":{"slug":"/posts/database/"},"frontmatter":{"title":"DATABASE"}},"previous":{"fields":{"slug":"/posts/apache-spark-1-개요/"},"frontmatter":{"title":"Apache Spark (1) - 개요"}}},{"node":{"id":"f77c8cbf-3a58-53fc-bd32-592702676a11"},"next":{"fields":{"slug":"/posts/erd/"},"frontmatter":{"title":"ERD"}},"previous":{"fields":{"slug":"/posts/동시성-처리/"},"frontmatter":{"title":"동시성 처리"}}},{"node":{"id":"f016fc75-8476-5493-8ac1-e2862773f3e7"},"next":{"fields":{"slug":"/posts/git-사용법/"},"frontmatter":{"title":"Git 사용법"}},"previous":{"fields":{"slug":"/posts/database/"},"frontmatter":{"title":"DATABASE"}}},{"node":{"id":"9f5a9a91-7af6-5ca3-b20f-d6e177e46c68"},"next":{"fields":{"slug":"/posts/jpa-1-query/"},"frontmatter":{"title":"JPA (1) - Query"}},"previous":{"fields":{"slug":"/posts/erd/"},"frontmatter":{"title":"ERD"}}},{"node":{"id":"b4e07799-70a4-523d-90ec-741e18230194"},"next":{"fields":{"slug":"/posts/jpa-2-specification/"},"frontmatter":{"title":"JPA (2) - Specification"}},"previous":{"fields":{"slug":"/posts/git-사용법/"},"frontmatter":{"title":"Git 사용법"}}},{"node":{"id":"571df319-d1dd-59b6-a588-7a5db12c6b3d"},"next":{"fields":{"slug":"/posts/j-query/"},"frontmatter":{"title":"jQuery"}},"previous":{"fields":{"slug":"/posts/jpa-1-query/"},"frontmatter":{"title":"JPA (1) - Query"}}},{"node":{"id":"ef05bf06-2d53-5323-820b-98f46a906289"},"next":{"fields":{"slug":"/posts/kubernetes/"},"frontmatter":{"title":"Kubernetes"}},"previous":{"fields":{"slug":"/posts/jpa-2-specification/"},"frontmatter":{"title":"JPA (2) - Specification"}}},{"node":{"id":"a78eb59a-78b3-5c86-bcc2-f09ea58fab23"},"next":{"fields":{"slug":"/posts/node-js/"},"frontmatter":{"title":"NodeJS"}},"previous":{"fields":{"slug":"/posts/j-query/"},"frontmatter":{"title":"jQuery"}}},{"node":{"id":"3c37f3d1-7097-5528-a31b-12bcdcd937ab"},"next":{"fields":{"slug":"/posts/oop/"},"frontmatter":{"title":"OOP"}},"previous":{"fields":{"slug":"/posts/kubernetes/"},"frontmatter":{"title":"Kubernetes"}}},{"node":{"id":"fe690dd1-ec0c-544b-a44f-131d80987565"},"next":{"fields":{"slug":"/posts/postgre-sql-2-psql/"},"frontmatter":{"title":"PostgreSQL (2) - PSQL"}},"previous":{"fields":{"slug":"/posts/node-js/"},"frontmatter":{"title":"NodeJS"}}},{"node":{"id":"b8c8c26f-09bc-5759-8a7e-c81ffbc8f2c0"},"next":{"fields":{"slug":"/posts/postgre-sql-1-개요/"},"frontmatter":{"title":"PostgreSQL (1) - 개요"}},"previous":{"fields":{"slug":"/posts/oop/"},"frontmatter":{"title":"OOP"}}},{"node":{"id":"6268f141-e6af-5f89-a55b-2174ef57651f"},"next":{"fields":{"slug":"/posts/react/"},"frontmatter":{"title":"React"}},"previous":{"fields":{"slug":"/posts/postgre-sql-2-psql/"},"frontmatter":{"title":"PostgreSQL (2) - PSQL"}}},{"node":{"id":"1a663d51-139e-500f-a209-04faaebd2e85"},"next":{"fields":{"slug":"/posts/react-hook/"},"frontmatter":{"title":"React Hook"}},"previous":{"fields":{"slug":"/posts/postgre-sql-1-개요/"},"frontmatter":{"title":"PostgreSQL (1) - 개요"}}},{"node":{"id":"b227a2c1-7853-5450-a1be-f3e1c83307b4"},"next":{"fields":{"slug":"/posts/redux-react-redux/"},"frontmatter":{"title":"Redux & React-Redux"}},"previous":{"fields":{"slug":"/posts/react/"},"frontmatter":{"title":"React"}}},{"node":{"id":"80979747-a7b7-5e5d-81bb-30729e2e16bd"},"next":{"fields":{"slug":"/posts/react/"},"frontmatter":{"title":"React"}},"previous":{"fields":{"slug":"/posts/react-hook/"},"frontmatter":{"title":"React Hook"}}},{"node":{"id":"a82c048c-1eea-54e3-912d-ae875640e04e"},"next":{"fields":{"slug":"/posts/swagger/"},"frontmatter":{"title":"Swagger"}},"previous":{"fields":{"slug":"/posts/redux-react-redux/"},"frontmatter":{"title":"Redux & React-Redux"}}},{"node":{"id":"18c2a54b-1a71-511c-824c-f437be00f3ef"},"next":{"fields":{"slug":"/posts/tomcat-사용법/"},"frontmatter":{"title":"Tomcat 사용법"}},"previous":{"fields":{"slug":"/posts/react/"},"frontmatter":{"title":"React"}}},{"node":{"id":"d2056881-058f-5f23-88ec-cf613dff77f0"},"next":{"fields":{"slug":"/posts/web-rtc/"},"frontmatter":{"title":"WebRTC"}},"previous":{"fields":{"slug":"/posts/swagger/"},"frontmatter":{"title":"Swagger"}}},{"node":{"id":"d54a4c19-013d-538a-893d-ff8f62d34d7a"},"next":null,"previous":{"fields":{"slug":"/posts/tomcat-사용법/"},"frontmatter":{"title":"Tomcat 사용법"}}}]}},"pageContext":{"id":"f5d1f1a7-7c2c-5f6a-9046-a6fe333a0e41"}},"staticQueryHashes":["2001315320"]}